<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BasketSync</title>
    <link rel="stylesheet" href="css/styles_main.css">
</head>
<body>

<!-- Header -->
<header class="app-header">
    <h1>BasketSync</h1>
    <div class="header-user">
        <a href="categories.html" class="header-nav-link" aria-label="Категории">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/>
            </svg>
        </a>
        <a href="cards.html" class="header-nav-link" aria-label="Скидочные карты">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="1" y="4" width="22" height="16" rx="2" ry="2"/>
                <line x1="1" y1="10" x2="23" y2="10"/>
            </svg>
        </a>
        <a href="profile.html" class="header-user__name" id="user-name"></a>
        <button class="header-user__logout" id="btn-logout" aria-label="Выйти">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/>
                <polyline points="16 17 21 12 16 7"/>
                <line x1="21" y1="12" x2="9" y2="12"/>
            </svg>
        </button>
    </div>
</header>

<!-- Main content -->
<main id="lists-container">
    <div class="loading" id="loading">Загрузка...</div>
</main>

<!-- FAB button -->
<button class="fab" id="fab-add" aria-label="Добавить список">+</button>

<!-- Modal: Create / Rename list -->
<div class="modal-overlay" id="list-modal">
    <div class="modal-sheet">
        <div class="modal-header">
            <h2 id="list-modal-title">Новый список</h2>
            <button class="modal-close" data-close="list-modal">&times;</button>
        </div>
        <div class="modal-body">
            <label class="field-label">Наименование списка
                <input type="text" id="list-name-input" placeholder="Например: Продукты на неделю" required>
            </label>
            <label class="checkbox-label">
                <input type="checkbox" id="list-shared" checked>
                Общий список
            </label>
        </div>
        <div class="modal-actions">
            <button class="btn-cancel" data-close="list-modal">Отмена</button>
            <button class="btn-primary" id="btn-save-list">Сохранить</button>
        </div>
    </div>
</div>

<!-- Modal: Confirm delete -->
<div class="modal-overlay" id="confirm-modal">
    <div class="modal-sheet modal-sheet--sm">
        <div class="modal-header">
            <h2>Удалить список?</h2>
            <button class="modal-close" data-close="confirm-modal">&times;</button>
        </div>
        <div class="modal-body">
            <p id="confirm-text">Список и все его товары будут удалены.</p>
        </div>
        <div class="modal-actions">
            <button class="btn-cancel" data-close="confirm-modal">Отмена</button>
            <button class="btn-danger" id="btn-confirm-delete">Удалить</button>
        </div>
    </div>
</div>

<!-- Modal: Share list -->
<div class="modal-overlay" id="share-modal">
    <div class="modal-sheet">
        <div class="modal-header">
            <h2>Поделиться списком</h2>
            <button class="modal-close" data-close="share-modal">&times;</button>
        </div>
        <div class="modal-body">
            <label class="checkbox-label">
                <input type="checkbox" id="share-all">
                Доступен всем
            </label>
            <div id="share-users-list" class="share-users-list"></div>
        </div>
        <div class="modal-actions">
            <button class="btn-cancel" data-close="share-modal">Отмена</button>
            <button class="btn-primary" id="btn-save-shares">Сохранить</button>
        </div>
    </div>
</div>

<!-- Context menu -->
<div class="context-menu" id="context-menu">
    <button class="context-item" id="ctx-rename">Переименовать</button>
    <button class="context-item" id="ctx-share">Поделиться</button>
    <button class="context-item context-item--danger" id="ctx-delete">Удалить</button>
</div>

<!-- Toast -->
<div class="toast" id="toast"></div>

<script src="js/main.js"></script>
</body>
</html>
