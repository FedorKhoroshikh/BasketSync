<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Список покупок</title>
    <link rel="stylesheet" href="css/styles_list.css">
</head>
<body>

<!-- Header -->
<header class="app-header">
    <a href="index.html" class="back-btn" aria-label="Назад">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
    </a>
    <h1 id="list-title">Загрузка...</h1>
    <span id="counter" class="counter"></span>
</header>

<!-- Main content -->
<main id="items-container">
    <div class="loading" id="loading">Загрузка...</div>
</main>

<!-- FAB button -->
<button class="fab" id="fab-add" aria-label="Добавить товар">+</button>

<!-- Modal: Add item to list -->
<div class="modal-overlay" id="add-item-modal">
    <div class="modal-sheet">
        <div class="modal-header">
            <h2>Добавить товар</h2>
            <button class="modal-close" data-close="add-item-modal">&times;</button>
        </div>
        <div class="modal-body">
            <div class="search-box">
                <input type="text" id="item-search" placeholder="Поиск товара..." autocomplete="off">
            </div>
            <div id="search-results" class="search-results"></div>
            <button class="btn-secondary" id="btn-create-new-item">+ Создать новый товар</button>
        </div>
    </div>
</div>

<!-- Modal: Create new item -->
<div class="modal-overlay" id="create-item-modal">
    <div class="modal-sheet">
        <div class="modal-header">
            <h2>Новый товар</h2>
            <button class="modal-close" data-close="create-item-modal">&times;</button>
        </div>
        <div class="modal-body">
            <label class="field-label">Название
                <input type="text" id="new-item-name" placeholder="Название товара" required>
            </label>
            <label class="field-label">Категория
                <select id="new-item-category"></select>
            </label>
            <label class="field-label">Единица измерения
                <select id="new-item-unit"></select>
            </label>
        </div>
        <div class="modal-actions">
            <button class="btn-cancel" data-close="create-item-modal">Отмена</button>
            <button class="btn-primary" id="btn-save-new-item">Сохранить</button>
        </div>
    </div>
</div>

<!-- Modal: Edit list item -->
<div class="modal-overlay" id="edit-item-modal">
    <div class="modal-sheet">
        <div class="modal-header">
            <h2 id="edit-item-title">Редактировать</h2>
            <button class="modal-close" data-close="edit-item-modal">&times;</button>
        </div>
        <div class="modal-body">
            <div class="quantity-control">
                <span class="field-label">Количество</span>
                <div class="qty-row">
                    <button class="qty-btn" id="qty-minus">−</button>
                    <input type="number" id="edit-qty" min="1" value="1">
                    <button class="qty-btn" id="qty-plus">+</button>
                </div>
            </div>
        </div>
        <div class="modal-actions">
            <button class="btn-cancel" data-close="edit-item-modal">Отмена</button>
            <button class="btn-primary" id="btn-save-edit">Сохранить</button>
        </div>
    </div>
</div>

<!-- Context menu -->
<div class="context-menu" id="context-menu">
    <button class="context-item" id="ctx-edit">Редактировать</button>
    <button class="context-item context-item--danger" id="ctx-delete">Удалить</button>
</div>

<!-- Toast -->
<div class="toast" id="toast"></div>

<script src="js/list.js"></script>
</body>
</html>
